{"ast":null,"code":"import _asyncToGenerator from \"/home/jerasin/workspace/angular_node/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { lastValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class ProductDetailService {\n  constructor(http, route) {\n    this.http = http;\n    this.route = route;\n  }\n  getProduct() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const routeParams = _this.route.snapshot.paramMap;\n      const productIdFromRoute = Number(routeParams.get('productId'));\n      return lastValueFrom(_this.http.get(`http://localhost:3000/product/${productIdFromRoute}`));\n    })();\n  }\n}\nProductDetailService.ɵfac = function ProductDetailService_Factory(t) {\n  return new (t || ProductDetailService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.ActivatedRoute));\n};\nProductDetailService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ProductDetailService,\n  factory: ProductDetailService.ɵfac\n});","map":{"version":3,"mappings":";AAGA,SAASA,aAAa,QAAQ,MAAM;;;;AAIpC,OAAM,MAAOC,oBAAoB;EAC/BC,YAAoBC,IAAgB,EAAUC,KAAqB;IAA/C,SAAI,GAAJD,IAAI;IAAsB,UAAK,GAALC,KAAK;EAAmB;EAEhEC,UAAU;IAAA;IAAA;MACd,MAAMC,WAAW,GAAG,KAAI,CAACF,KAAK,CAACG,QAAQ,CAACC,QAAQ;MAChD,MAAMC,kBAAkB,GAAGC,MAAM,CAACJ,WAAW,CAACK,GAAG,CAAC,WAAW,CAAC,CAAC;MAE/D,OAAOX,aAAa,CAClB,KAAI,CAACG,IAAI,CAACQ,GAAG,CACX,iCAAiCF,kBAAkB,EAAE,CACtD,CACF;IAAC;EACJ;;AAZWR,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;SAApBA,oBAAoB;EAAAW,SAApBX,oBAAoB;AAAA","names":["lastValueFrom","ProductDetailService","constructor","http","route","getProduct","routeParams","snapshot","paramMap","productIdFromRoute","Number","get","factory"],"sourceRoot":"","sources":["/home/jerasin/workspace/angular_node/frontend/src/app/product-details/product-details.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Product } from '../../mock/productList';\nimport { lastValueFrom } from 'rxjs';\nimport { ActivatedRoute } from '@angular/router';\n\n@Injectable()\nexport class ProductDetailService {\n  constructor(private http: HttpClient, private route: ActivatedRoute) {}\n\n  async getProduct(): Promise<Product[]> {\n    const routeParams = this.route.snapshot.paramMap;\n    const productIdFromRoute = Number(routeParams.get('productId'));\n\n    return lastValueFrom(\n      this.http.get<Product[]>(\n        `http://localhost:3000/product/${productIdFromRoute}`\n      )\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}